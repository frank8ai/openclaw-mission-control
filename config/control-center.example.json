{
  "timezone": "Asia/Shanghai",
  "report": {
    "topLimit": 5,
    "channel": "discord",
    "target": "channel:123456789012345678",
    "maxSendLength": 3000
  },
  "watchdog": {
    "silenceMultiplier": 2.5,
    "silenceFloorMinutes": 10,
    "cronSilenceHours": 48,
    "subagentLongRunMinutes": 120,
    "contextHotThreshold": 0.85
  },
  "workspaceGuard": {
    "enabled": true,
    "pollMinutes": 5,
    "expectedMainWorkspace": "/Users/yizhi/.openclaw/workspace",
    "autoRepair": true,
    "backupOnRepair": true
  },
  "control": {
    "confirmTtlMinutes": 10,
    "approvalTtlMinutes": 30,
    "approvalRequiredActions": [
      "run",
      "enable",
      "disable",
      "kill",
      "trigger",
      "autopr",
      "runbook-exec"
    ],
    "killWhitelist": [
      "example-subagent-id"
    ],
    "triggerWhitelist": [
      "github-sync",
      "todoist-sync",
      "calendar-sync",
      "watchdog",
      "workspace-guard",
      "report",
      "briefing",
      "remind",
      "status-sync",
      "queue-drain",
      "sla-check",
      "linear-autopilot",
      "linear-engine"
    ]
  },
  "linear": {
    "enabled": true,
    "teamKey": "CLAW",
    "teamId": "",
    "projectId": ""
  },
  "ingest": {
    "host": "127.0.0.1",
    "port": 8788,
    "triagePath": "/triage",
    "discordPath": "/discord/message",
    "githubPath": "/github/pr",
    "token": "",
    "maxBodyBytes": 1048576,
    "replayWindowHours": 72
  },
  "reminders": {
    "enabled": true,
    "dueSoonDays": 7,
    "staleInProgressDays": 3,
    "blockedEscalationHours": 24,
    "autoEscalateBlocked": false,
    "dueSoonCron": "0 10 * * *",
    "cycleCron": "30 9 * * 1",
    "channel": "discord",
    "target": "channel:123456789012345678",
    "maxSendLength": 3000
  },
  "briefing": {
    "enabled": true,
    "dailyCron": "15 9 * * *",
    "weeklyCron": "0 9 * * 1",
    "channel": "discord",
    "target": "channel:123456789012345678",
    "maxSendLength": 3000,
    "includeSla": true,
    "staleInProgressDays": 3,
    "blockedEscalationHours": 24,
    "autoEscalateBlocked": false
  },
  "github": {
    "stateInReview": "In Review",
    "stateDone": "Done",
    "webhookSecret": "",
    "token": "",
    "autoReviewers": [
      "reviewer-login"
    ],
    "repos": [
      "frank8ai/openclaw-workspace",
      "frank8ai/openclaw-mission-control"
    ],
    "pollIntervalMinutes": 15,
    "lookbackHours": 72
  },
  "todoist": {
    "enabled": true,
    "apiToken": "",
    "syncToLinear": true,
    "syncFromLinearDone": true,
    "label": "todoist",
    "defaultState": "Triage",
    "syncBatchSize": 10
  },
  "calendar": {
    "enabled": true,
    "browserProfile": "openclaw",
    "tabHint": "calendar.google.com",
    "syncToLinear": false,
    "label": "calendar",
    "defaultState": "Triage"
  },
  "discordIntake": {
    "enabled": true,
    "channelId": "123456789012345678",
    "channelIds": [
      "123456789012345678"
    ],
    "ownerUserIds": [
      "1146425418937811145"
    ],
    "includeBotMessages": false,
    "limit": 30,
    "pollMinutes": 5,
    "maxCreatePerRun": 5,
    "minTextChars": 6,
    "excludeProgressChecks": true,
    "requireExplicitTrigger": true,
    "explicitTriggers": [
      "linear 任务",
      "linear任务",
      "linear task",
      "/task",
      "#task",
      "任务：",
      "任务:"
    ],
    "autoDiscoverFromStatus": true,
    "labels": [
      "auto-intake",
      "main-directive"
    ],
    "defaultState": "Triage",
    "defaultPriority": 3
  },
  "statusMachine": {
    "enabled": true,
    "activeWindowMinutes": 120,
    "stateInProgress": "In Progress",
    "stateInReview": "In Review",
    "stateDone": "Done",
    "stateBlocked": "Blocked",
    "commentOnStateChange": true,
    "pollMinutes": 10,
    "autoActivateConfig": true,
    "rules": []
  },
  "intakeQueue": {
    "enabled": true,
    "maxRetries": 5,
    "pollMinutes": 2
  },
  "sla": {
    "enabled": true,
    "inProgressStaleHours": 24,
    "blockedStaleHours": 8,
    "commentCooldownHours": 24,
    "createOpsIssue": true,
    "pollMinutes": 30
  },
  "triageRouting": {
    "enabled": true,
    "defaultState": "Triage",
    "defaultPriority": 3,
    "defaultLabels": [],
    "defaultAssigneeEmail": "",
    "sourceRules": {
      "discord": {
        "labels": [
          "discord"
        ]
      },
      "github": {
        "labels": [
          "github"
        ]
      },
      "todoist": {
        "labels": [
          "todoist"
        ]
      },
      "calendar": {
        "labels": [
          "calendar"
        ]
      },
      "google-calendar": {
        "labels": [
          "calendar"
        ]
      }
    },
    "keywordRules": [
      {
        "pattern": "timeout|timed out|超时",
        "labels": [
          "timeout",
          "ops"
        ],
        "priority": 2
      },
      {
        "pattern": "blocked|卡住|无法",
        "labels": [
          "blocked"
        ],
        "priority": 2
      },
      {
        "pattern": "urgent|紧急|p0",
        "priority": 1
      }
    ],
    "signatureDedupe": {
      "enabled": true,
      "lookbackDays": 14,
      "maxEntries": 2000,
      "minChars": 30,
      "sourceAllowlist": [
        "discord",
        "github",
        "webhook",
        "manual",
        "mission-control",
        "sla-check"
      ]
    }
  },
  "autopr": {
    "enabled": true,
    "allowExecute": false,
    "defaultDryRun": true,
    "baseBranch": "main",
    "maxChangedFiles": 30,
    "allowedPathPrefixes": [
      "docs/",
      ".github/",
      "README.md",
      "config/"
    ],
    "testCommand": "npm run lint"
  },
  "evalReplay": {
    "enabled": true,
    "maxSessions": 200,
    "maxRunsPerJob": 20
  },
  "distillExport": {
    "enabled": true,
    "maxSessions": 200,
    "maxSamples": 2000,
    "maxAuditEvents": 2000,
    "minUserChars": 6,
    "minAssistantChars": 20,
    "includeAudit": true,
    "includeToolTrace": true,
    "includeCodexCli": true
  },
  "runbook": {
    "enabled": true,
    "allowExecute": false,
    "defaultDryRun": true,
    "allowedActions": [
      "status-sync",
      "queue-drain",
      "cron-run"
    ],
    "maxActionsPerRun": 5
  },
  "execution": {
    "sessionSharding": {
      "enabled": true,
      "maxTokens": 60000,
      "maxTurns": 30,
      "enforceHandoffPackage": true
    },
    "tokenBudget": {
      "enabled": true,
      "dailyGlobalLimit": 500000,
      "dailyAgentLimit": 100000,
      "throttleThresholds": {
        "downgrade": 0.8,
        "highPriorityOnly": 0.9,
        "freeze": 0.95
      }
    },
    "enabled": true,
    "pollMinutes": 15,
    "loopCommand": "linear-engine",
    "engineAutoPick": true,
    "engineMaxSteps": 3,
    "engineNoProgressThreshold": 2,
    "engineStepSleepMs": 0,
    "agentId": "auto",
    "agentPreferred": [
      "codex",
      "coder",
      "main"
    ],
    "agentAllowlist": [],
    "agentDenylist": [],
    "timeoutSeconds": 900,
    "agentRetries": 2,
    "retryBackoffSeconds": 20,
    "lockTtlSeconds": 1800,
    "fallbackAgentSuffix": "autopilot",
    "failOnError": false,
    "includeStates": [
      "In Progress",
      "Triage",
      "Blocked"
    ],
    "includeLabels": [
      "auto-intake",
      "main-directive"
    ],
    "maxPromptChars": 1400,
    "autoComment": true,
    "autoTransition": true,
    "defaultTransitionFromTriage": "In Progress",
    "issueCooldownMinutes": 30,
    "maxConsecutiveSameIssue": 2,
    "preferNewTriage": true,
    "noProgressEscalation": {
      "enabled": true,
      "thresholdRuns": 3,
      "cooldownMinutes": 180,
      "autoBlock": true,
      "notifyReportTarget": true,
      "commentOnIssue": true
    },
    "backoffByFailureClass": {
      "timeout": 1.2,
      "rate_limit": 1.6,
      "lock_conflict": 0.8,
      "unknown": 1
    }
  }
}
